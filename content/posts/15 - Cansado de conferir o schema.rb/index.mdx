---
slug: "cansado-de-conferir-o-schema-rb"
title: "Cansado de conferir o schema.rb"
date: "2022-09-05"
description: "Abro o model. Não lembro os campos que estão por lá. Vamos olhar o schema... Repete (30x). Não mais depois desse post aqui."
tags:
  - rails
---

O Rails nos dá algumas facilidades que parecem mágica. A não-necessidade de importar os módulos que queremos usar, a metaprogramação da linguagem Ruby, os generators presentes no framework... Entre outras. Para mim, o maior contraste com outras linguagens é como fazer muito escrevendo tão pouco quando comparado. E isso tem o seu lado ruim também.

Quando criamos um novo modelo, não precisamos declarar no arquivo ruby (`model.rb`) todos os campos presentes naquele modelo. Geralmente, só mencionamos os campos que precisam de alguma validação ou que estão presentes em algum método para aquele modelo. E toda vez que queremos saber algum campo que não é mencionado: `ctrl + f` no `schema.rb`. O que não é exatamente a forma mais rápida e agradável que gostaríamos, ainda mais quando o campo é mencionado em diferentes tabelas, a tabela é mencionada em outras tabelas, indexes e etc.

Com a `gem` (Annotate)[https://github.com/ctran/annotate_models], podemos facilmente adicionar um comentário ao fim do código no `model.rb` com a estrutura da tabela referente aquele model, no mesmo formato que encontramos no `schema.rb`, algo tipo:

```rb
# == Schema Info
#
# Table name: line_items
#
#  id                  :integer(11)    not null, primary key
#  quantity            :integer(11)    not null
#  product_id          :integer(11)    not null
#  unit_price          :float
#  order_id            :integer(11)
#
```

Maravilha, né?

![Obama dizendo "Special... Beautiful"](https://media.giphy.com/media/XKyP6RJH29cCaD0QpF/giphy.gif)
