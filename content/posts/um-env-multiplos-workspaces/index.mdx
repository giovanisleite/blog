---
slug: 'um-env-multiplos-workspaces'
title: 'Um .env para todos workspaces'
date: '2021-06-05'
description:
  '_Como usar um .env para todos os seus yarn workspaces_ Imagem da [Vox](https://www.vox.com/2016/10/3/13149670/google-new-os-andromeda-operating-system-chrome-android)'
tags:
 - yarn workspaces
 - javascript
banner: 'one-ring.webp'
---

A feature do Yarn Workspaces √© bastante √∫til quando voc√™ quer ter v√°rias aplica√ß√µes ou bibliotecas
no mesmo reposit√≥rio. Um famigerado monorepo. O [Roberto Achar](https://twitter.com/robertoachar) fez [um post sobre como configurar um monorepo utilizando o Yarn Workspaces](https://robertoachar.dev/blog/yarn-workspaces). A [biblioteca do Material-UI para React](https://github.com/mui-org/material-ui) √© um exemplo de reposit√≥rio que tem m√∫ltiplos pacotes juntos e usa Yarn Workspaces.

S√£o v√°rias as organiza√ß√µes que podemos fazer nesse esquema, podemos ter aplica√ß√µes independentes, uma lib que √© usada por todas as outras, v√°rias independentes e uma que usa todas elas e etc. Nesse mundo de aplica√ß√µes, durante o desenvolvimento, ter um .env para cada uma pode n√£o fazer sentido ou simplesmente ser chato demais por ter que ficar cada hora mudando em um lugar diferente, copiando de um pro outro e etc.

Um comando e uma altera√ß√£o nos seus scripts pode resolver isso:

1. Instale a biblioteca [`dotenv-cli`](https://github.com/entropitor/dotenv-cli)

```bash
yarn add --dev dotenv-cli
```

<br/>

2. Adicione `dotenv -e .env` antes do seu comando que ir√° iniciar a aplica√ß√£o/lib, por exemplo:
```json
//package.json
"scripts": {
    "start-frontend": "dotent -e yarn workspace frontend start"
}
```

Assim, sua aplica√ß√£o vai poder acessar as v√°riaveis que voc√™ configurou no seu `.env` da raiz üéâ
